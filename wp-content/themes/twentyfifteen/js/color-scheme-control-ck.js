/* global colorScheme, Color *//**
 * Add a listener to the Color Scheme control to update other color controls to new values/defaults.
 * Also trigger an update of the Color Scheme CSS when a color is changed.
 */(function(e){function i(){var i=e("color_scheme")(),s,o=_.object(n,colorScheme[i].colors);_.each(r,function(t){o[t]=e(t)()});o.secondary_textcolor=Color(o.textcolor).toCSS("rgba",.7);o.border_color=Color(o.textcolor).toCSS("rgba",.1);o.border_focus_color=Color(o.textcolor).toCSS("rgba",.3);o.secondary_sidebar_textcolor=Color(o.sidebar_textcolor).toCSS("rgba",.7);o.sidebar_border_color=Color(o.sidebar_textcolor).toCSS("rgba",.1);o.sidebar_border_focus_color=Color(o.sidebar_textcolor).toCSS("rgba",.3);s=t(o);e.previewer.send("update-color-scheme-css",s)}var t=wp.template("twentyfifteen-color-scheme"),n=["background_color","header_background_color","box_background_color","textcolor","sidebar_textcolor","meta_box_background_color"],r=["background_color","header_background_color","sidebar_textcolor"];e.controlConstructor.select=e.Control.extend({ready:function(){"color_scheme"===this.id&&this.setting.bind("change",function(t){e("background_color").set(colorScheme[t].colors[0]);e.control("background_color").container.find(".color-picker-hex").data("data-default-color",colorScheme[t].colors[0]).wpColorPicker("defaultColor",colorScheme[t].colors[0]);e("header_background_color").set(colorScheme[t].colors[1]);e.control("header_background_color").container.find(".color-picker-hex").data("data-default-color",colorScheme[t].colors[1]).wpColorPicker("defaultColor",colorScheme[t].colors[1]);e("sidebar_textcolor").set(colorScheme[t].colors[4]);e.control("sidebar_textcolor").container.find(".color-picker-hex").data("data-default-color",colorScheme[t].colors[4]).wpColorPicker("defaultColor",colorScheme[t].colors[4])})}});_.each(r,function(t){e(t,function(e){e.bind(i)})})})(wp.customize);